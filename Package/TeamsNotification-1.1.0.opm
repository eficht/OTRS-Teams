<?xml version="1.0" encoding="utf-8" ?>
<otrs_package version="1.1">
    <Name>TeamsNotification</Name>
    <Version>1.1.0</Version>
    <Vendor>meisterheister</Vendor>
    <URL>https://github.com/meisterheister/</URL>
    <License>GNU AFFERO GENERAL PUBLIC LICENSE Version 3, November 2007</License>
	<ChangeLog Version="1.1.0" Date="2019-12-18 00:00:00">Added 3 options for notification sizes, theme color by priority, customizable activity image and article sender type as well as ticket type dependent notification filters.</ChangeLog>
    <ChangeLog Version="1.0.0" Date="2019-12-11 14:00:00">Initial release.</ChangeLog>
	<Description Lang="en">Provides an event based module to send a notification to a Microsoft Teams webhook. A webhook per Teams channel is needed. The webhook URL is choosen based on the queue it was associated with. This association is done in System Config item TeamsNotification::QueueToWebhookURL. Follow the below link on how to create a webhook:https://docs.microsoft.com/en-us/microsoftteams/platform/webhooks-and-connectors/how-to/add-incoming-webhook</Description>
    <Framework>6.0.x</Framework>
    <IntroInstall Lang="en" Title="Thank you!" Type="post">Thank you for installing the TeamsNotification module.</IntroInstall>
    <PackageIsVisible>1</PackageIsVisible>
    <PackageIsDownloadable>1</PackageIsDownloadable>
    <PackageIsRemovable>1</PackageIsRemovable>
    <BuildDate>2019-12-18 00:00:00</BuildDate>
    <BuildHost>otrs-6</BuildHost>
    <Filelist>
        <File Location="Kernel/Config/Files/XML/TeamsNotification.xml" Permission="644" Encode="Base64">PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiID8+CjxvdHJzX2NvbmZpZyB2ZXJzaW9uPSIyLjAiIGluaXQ9IkFwcGxpY2F0aW9uIj4KICAgIDxTZXR0aW5nIE5hbWU9IlRlYW1zTm90aWZpY2F0aW9uOjpRdWV1ZVRvV2ViaG9va1VSTCIgUmVxdWlyZWQ9IjAiIFZhbGlkPSIxIj4KICAgICAgICA8RGVzY3JpcHRpb24gVHJhbnNsYXRhYmxlPSIxIj5UZWFtcyBXZWJob29rIFVSTHM8L0Rlc2NyaXB0aW9uPgogICAgICAgIDxOYXZpZ2F0aW9uPlRlYW1zOjpBUEk8L05hdmlnYXRpb24+CiAgICAgICAgPFZhbHVlPgogICAgICAgICAgICA8SGFzaD4KICAgICAgICAgICAgICAgIDxJdGVtIEtleT0iUXVldWUiPlVSTDwvSXRlbT4KICAgICAgICAgICAgPC9IYXNoPgogICAgICAgIDwvVmFsdWU+CiAgICA8L1NldHRpbmc+CiAgICA8U2V0dGluZyBOYW1lPSJUZWFtc05vdGlmaWNhdGlvbjo6U2VuZGVyVHlwZSIgUmVxdWlyZWQ9IjAiIFZhbGlkPSIxIj4KICAgICAgICA8RGVzY3JpcHRpb24gVHJhbnNsYXRhYmxlPSIxIj5WYWxpZCBhcnRpY2xlIHNlbmRlciB0eXBlcy4gMCA9IGRpc2FibGVkLCAxID0gZW5hYmxlZDwvRGVzY3JpcHRpb24+CiAgICAgICAgPE5hdmlnYXRpb24+VGVhbXM6OkFQSTwvTmF2aWdhdGlvbj4KICAgICAgICA8VmFsdWU+CiAgICAgICAgICAgIDxIYXNoPgogICAgICAgICAgICAgICAgPEl0ZW0gS2V5PSJjdXN0b21lciI+MTwvSXRlbT4KICAgICAgICAgICAgICAgIDxJdGVtIEtleT0iYWdlbnQiPjA8L0l0ZW0+CiAgICAgICAgICAgICAgICA8SXRlbSBLZXk9InN5c3RlbSI+MDwvSXRlbT4KICAgICAgICAgICAgPC9IYXNoPgogICAgICAgIDwvVmFsdWU+CiAgICA8L1NldHRpbmc+CiAgICA8U2V0dGluZyBOYW1lPSJUZWFtc05vdGlmaWNhdGlvbjo6VGlja2V0VHlwZSIgUmVxdWlyZWQ9IjAiIFZhbGlkPSIxIj4KICAgICAgICA8RGVzY3JpcHRpb24gVHJhbnNsYXRhYmxlPSIxIj5WYWxpZCB0aWNrZXQgdHlwZXMuIDAgPSBkaXNhYmxlZCwgMSA9IGVuYWJsZWQ8L0Rlc2NyaXB0aW9uPgogICAgICAgIDxOYXZpZ2F0aW9uPlRlYW1zOjpBUEk8L05hdmlnYXRpb24+CiAgICAgICAgPFZhbHVlPgogICAgICAgICAgICA8SGFzaD4KICAgICAgICAgICAgICAgIDxJdGVtIEtleT0iU2VydmljZVJlcXVlc3QiPjE8L0l0ZW0+CiAgICAgICAgICAgICAgICA8SXRlbSBLZXk9IkluY2lkZW50Ij4xPC9JdGVtPgogICAgICAgICAgICAgICAgPEl0ZW0gS2V5PSJUYXNrIj4wPC9JdGVtPgogICAgICAgICAgICA8L0hhc2g+CiAgICAgICAgPC9WYWx1ZT4KICAgIDwvU2V0dGluZz4KICAgIDxTZXR0aW5nIE5hbWU9IlRlYW1zTm90aWZpY2F0aW9uOjpOb3RpZmljYXRpb25Db2xvciIgUmVxdWlyZWQ9IjAiIFZhbGlkPSIxIj4KICAgICAgICA8RGVzY3JpcHRpb24gVHJhbnNsYXRhYmxlPSIxIj5TZXQgcHJpb3JpdHkgbmFtZSBhbmQgY29sb3IuIFRoZSBjb2xvciBtdXN0IGJlIGEgaGV4IHZhbHVlLjwvRGVzY3JpcHRpb24+CiAgICAgICAgPE5hdmlnYXRpb24+VGVhbXM6OkFQSTwvTmF2aWdhdGlvbj4KICAgICAgICA8VmFsdWU+CiAgICAgICAgICAgIDxIYXNoPgogICAgICAgICAgICAgICAgPEl0ZW0gS2V5PSI1IHZlcnkgaGlnaCI+RkY1MDVFPC9JdGVtPgogICAgICAgICAgICAgICAgPEl0ZW0gS2V5PSI0IGhpZ2giPkZGQUFBQTwvSXRlbT4KICAgICAgICAgICAgICAgIDxJdGVtIEtleT0iZGVmYXVsdCI+Q0RDRENEPC9JdGVtPgogICAgICAgICAgICA8L0hhc2g+CiAgICAgICAgPC9WYWx1ZT4KICAgIDwvU2V0dGluZz4KICAgIDxTZXR0aW5nIE5hbWU9IlRlYW1zTm90aWZpY2F0aW9uOjpOb3RpZmljYXRpb25WaWV3IiBSZXF1aXJlZD0iMCIgVmFsaWQ9IjEiPgogICAgICAgIDxEZXNjcmlwdGlvbiBUcmFuc2xhdGFibGU9IjEiPkVuYWJsZSBzZW5kaW5nIG5vdGlmaWNhdGlvbnMgdG8gVGVhbXMuPC9EZXNjcmlwdGlvbj4KICAgICAgICA8TmF2aWdhdGlvbj5UZWFtczo6QVBJPC9OYXZpZ2F0aW9uPgogICAgICAgIDxWYWx1ZT4KICAgICAgICAgICAgPEl0ZW0gVmFsdWVUeXBlPSJTZWxlY3QiIFNlbGVjdGVkSUQ9Im5ldmVyIj4KICAgICAgICAgICAgICAgIDxJdGVtIFZhbHVlVHlwZT0iT3B0aW9uIiBWYWx1ZT0ibGFyZ2UiIFRyYW5zbGF0YWJsZT0iMSI+TGFyZ2U8L0l0ZW0+CiAgICAgICAgICAgICAgICA8SXRlbSBWYWx1ZVR5cGU9Ik9wdGlvbiIgVmFsdWU9Im1lZGl1bSIgVHJhbnNsYXRhYmxlPSIxIj5NZWRpdW08L0l0ZW0+CiAgICAgICAgICAgICAgICA8SXRlbSBWYWx1ZVR5cGU9Ik9wdGlvbiIgVmFsdWU9InNtYWxsIiBUcmFuc2xhdGFibGU9IjEiPlNtYWxsPC9JdGVtPgogICAgICAgICAgICAgICAgPEl0ZW0gVmFsdWVUeXBlPSJPcHRpb24iIFZhbHVlPSJuZXZlciIgVHJhbnNsYXRhYmxlPSIxIj5EaXNhYmxlZDwvSXRlbT4KICAgICAgICAgICAgPC9JdGVtPgogICAgICAgIDwvVmFsdWU+CiAgICA8L1NldHRpbmc+CiAgICA8U2V0dGluZyBOYW1lPSJUZWFtc05vdGlmaWNhdGlvbjo6Tm90aWZpY2F0aW9uSW1hZ2UiIFJlcXVpcmVkPSIwIiBWYWxpZD0iMSI+CiAgICAgICAgPERlc2NyaXB0aW9uIFRyYW5zbGF0YWJsZT0iMSI+U2V0IHBhdGggdG8gaW1hZ2UuIElmIG5vdCBzZXQgdGhlIGRlZmF1bHQgaW1hZ2Ugd2lsbCBiZSB0aGUgb25lIHNldCBhcyBBZ2VudExvZ2luTG9nby48L0Rlc2NyaXB0aW9uPgogICAgICAgIDxOYXZpZ2F0aW9uPlRlYW1zOjpBUEk8L05hdmlnYXRpb24+CiAgICAgICAgPFZhbHVlPgogICAgICAgICAgICA8SXRlbSBWYWx1ZVR5cGU9IlN0cmluZyIgVmFsdWVSZWdleD0iIj48L0l0ZW0+CiAgICAgICAgPC9WYWx1ZT4KICAgIDwvU2V0dGluZz4KICAgIDxTZXR0aW5nIE5hbWU9IlRpY2tldDo6RXZlbnRNb2R1bGVQb3N0IyMjMTExLVRlYW1zTm90aWZpY2F0aW9uIiBSZXF1aXJlZD0iMCIgVmFsaWQ9IjEiPgogICAgICAgIDxEZXNjcmlwdGlvbiBUcmFuc2xhdGFibGU9IjEiPlNlbmRzIG5vdGlmaWNhdGlvbiBiYXNlZCBvbiB0aGUgZXZlbnQgdHlwZSB0byBNaWNyb3NvZnQgVGVhbXMuPC9EZXNjcmlwdGlvbj4KICAgICAgICA8TmF2aWdhdGlvbj5Db3JlOjpUaWNrZXQ8L05hdmlnYXRpb24+CiAgICAgICAgPFZhbHVlPgogICAgICAgICAgICA8SGFzaD4KICAgICAgICAgICAgICAgIDxJdGVtIEtleT0iTW9kdWxlIj5LZXJuZWw6OlN5c3RlbTo6VGlja2V0OjpFdmVudDo6VGVhbXNOb3RpZmljYXRpb248L0l0ZW0+CiAgICAgICAgICAgICAgICA8SXRlbSBLZXk9IkV2ZW50Ij4oQXJ0aWNsZUNyZWF0ZSk8L0l0ZW0+CiAgICAgICAgICAgIDwvSGFzaD4KICAgICAgICA8L1ZhbHVlPgogICAgPC9TZXR0aW5nPgo8L290cnNfY29uZmlnPg==</File>
        <File Location="Kernel/System/Ticket/Event/TeamsNotification.pm" Permission="644" Encode="Base64">IyAtLQojIChUZWFtc05vdGlmaWNhdGlvbi5wbSkgLSBzZW5kcyBhIEpTT04gcGF5bG9hZCB0byBhIE1pY3Jvc29mdCBUZWFtcyB3ZWJob29rCiMgQ29weXJpZ2h0IChDKSAyMDAxLTIwMTkgT1RSUyBBRywgaHR0cHM6Ly9vdHJzLmNvbS8KIyAtLQojIFRoaXMgc29mdHdhcmUgY29tZXMgd2l0aCBBQlNPTFVURUxZIE5PIFdBUlJBTlRZLiBGb3IgZGV0YWlscywgc2VlCiMgdGhlIGVuY2xvc2VkIGZpbGUgQ09QWUlORyBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbiAoR1BMKS4gSWYgeW91CiMgZGlkIG5vdCByZWNlaXZlIHRoaXMgZmlsZSwgc2VlIGh0dHBzOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvZ3BsLTMuMC50eHQuCiMgLS0KCnBhY2thZ2UgS2VybmVsOjpTeXN0ZW06OlRpY2tldDo6RXZlbnQ6OlRlYW1zTm90aWZpY2F0aW9uOwoKdXNlIHN0cmljdDsKdXNlIHV0Zjg7CnVzZSBFbmNvZGU7CnVzZSB3YXJuaW5nczsKCiRFTlZ7UEVSTF9MV1BfU1NMX1ZFUklGWV9IT1NUTkFNRX09MDsKCnVzZSBMV1A6OlVzZXJBZ2VudDsKdXNlIEhUVFA6OlJlcXVlc3Q6OkNvbW1vbjsKCm91ciBAT2JqZWN0RGVwZW5kZW5jaWVzID0gcXcoCiAgICBLZXJuZWw6OkNvbmZpZwogICAgS2VybmVsOjpTeXN0ZW06OkxvZwogICAgS2VybmVsOjpTeXN0ZW06OlRpY2tldAogICAgS2VybmVsOjpTeXN0ZW06OlRpY2tldDo6QXJ0aWNsZQogICAgS2VybmVsOjpTeXN0ZW06OlVzZXIKKTsKCnN1YiBuZXcgewogICAgbXkgKCAkVHlwZSwgJVBhcmFtICkgPSBAXzsKCiAgICAjIGFsbG9jYXRlIG5ldyBoYXNoIGZvciBvYmplY3QKICAgIG15ICRTZWxmID0ge307CiAgICBibGVzcyggJFNlbGYsICRUeXBlICk7CgogICAgcmV0dXJuICRTZWxmOwp9CgpzdWIgUnVuIHsKICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87CiAgICBteSAkTG9nT2JqZWN0ICAgICA9ICRLZXJuZWw6Ok9NLT5HZXQoJ0tlcm5lbDo6U3lzdGVtOjpMb2cnKTsKICAgIG15ICRUaWNrZXRPYmplY3QgID0gJEtlcm5lbDo6T00tPkdldCgnS2VybmVsOjpTeXN0ZW06OlRpY2tldCcpOwogICAgbXkgJEFydGljbGVPYmplY3QgPSAkS2VybmVsOjpPTS0+R2V0KCdLZXJuZWw6OlN5c3RlbTo6VGlja2V0OjpBcnRpY2xlJyk7CiAgICBteSAkVXNlck9iamVjdCAgICA9ICRLZXJuZWw6Ok9NLT5HZXQoJ0tlcm5lbDo6U3lzdGVtOjpVc2VyJyk7CiAgICBteSAkQ29uZmlnT2JqZWN0ICA9ICRLZXJuZWw6Ok9NLT5HZXQoJ0tlcm5lbDo6Q29uZmlnJyk7CgogICAgIyBjaGVjayBpZiBOb3RpZmljYXRpb24gbW9kdWxlIHNob3VsZCBydW4KICAgIG15ICRWaWV3Tm90aWZpY2F0aW9uID0gJENvbmZpZ09iamVjdC0+R2V0KCdUZWFtc05vdGlmaWNhdGlvbjo6Tm90aWZpY2F0aW9uVmlldycpOwogICAgaWYgKCAkVmlld05vdGlmaWNhdGlvbiBlcSAnbmV2ZXInICkgewogICAgICAgIHJldHVybjsKICAgIH0KCiAgICAkTG9nT2JqZWN0LT5Mb2coCiAgICAgICAgUHJpb3JpdHkgPT4gJ25vdGljZScsCiAgICAgICAgTWVzc2FnZSAgPT4gJ1J1biBUZWFtc05vdGlmaWNhdGlvbiBldmVudCBtb2R1bGUnLAogICAgKTsKCiAgICAjIGNoZWNrIG5lZWRlZCBzdHVmZgogICAgZm9yIG15ICROZWVkZWRQYXJhbSAocXcoRXZlbnQgRGF0YSBDb25maWcgVXNlcklEKSkgewogICAgICAgIGlmICggISRQYXJhbXskTmVlZGVkUGFyYW19ICkgewogICAgICAgICAgICAkTG9nT2JqZWN0LT5Mb2coCiAgICAgICAgICAgICAgICBQcmlvcml0eSA9PiAnZXJyb3InLAogICAgICAgICAgICAgICAgTWVzc2FnZSAgPT4gIk5lZWQgJE5lZWRlZFBhcmFtISIsCiAgICAgICAgICAgICk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICB9CgogICAgZm9yIG15ICROZWVkZWREYXRhIChxdyhUaWNrZXRJRCBBcnRpY2xlSUQpKSB7CiAgICAgICAgaWYgKCAhJFBhcmFte0RhdGF9LT57JE5lZWRlZERhdGF9ICkgewogICAgICAgICAgICAkTG9nT2JqZWN0LT5Mb2coCiAgICAgICAgICAgICAgICBQcmlvcml0eSA9PiAnZXJyb3InLAogICAgICAgICAgICAgICAgTWVzc2FnZSAgPT4gIk5lZWQgJE5lZWRlZERhdGEgaW4gRGF0YSEiLAogICAgICAgICAgICApOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgfQoKICAgICMgZ2V0IHRpY2tldCBhdHRyaWJ1dGUgbWF0Y2hlcwogICAgbXkgJUFydGljbGUgPSAkQXJ0aWNsZU9iamVjdC0+QXJ0aWNsZUdldCgKICAgICAgICBBcnRpY2xlSUQgICAgPT4gJFBhcmFte0RhdGF9LT57QXJ0aWNsZUlEfSwKICAgICAgICBUaWNrZXRJRCAgICAgPT4gJFBhcmFte0RhdGF9LT57VGlja2V0SUR9LAogICAgICAgIEZyb20gICAgICAgICA9PiAkUGFyYW17RGF0YX0tPntGcm9tfSwKICAgICAgICBCb2R5ICAgICAgICAgPT4gJFBhcmFte0RhdGF9LT57RnJvbX0sCiAgICAgICAgU2VuZGVyVHlwZSAgID0+ICRQYXJhbXtEYXRhfS0+e1NlbmRlclR5cGV9LAogICAgKTsKICAgIG15ICVUaWNrZXQgPSAkVGlja2V0T2JqZWN0LT5UaWNrZXRHZXQoCiAgICAgICAgVGlja2V0SUQgICAgID0+ICRQYXJhbXtEYXRhfS0+e1RpY2tldElEfSwKICAgICAgICBUeXBlICAgICAgICAgPT4gJFBhcmFte0RhdGF9LT57VHlwZX0sCiAgICAgICAgVGlja2V0TnVtYmVyID0+ICRQYXJhbXtEYXRhfS0+e1RpY2tldE51bWJlcn0sCiAgICAgICAgVGl0bGUgICAgICAgID0+ICRQYXJhbXtEYXRhfS0+e1RpdGxlfSwKICAgICAgICBRdWV1ZSAgICAgICAgPT4gJFBhcmFte0RhdGF9LT57UXVldWV9LCAgICAgICAgCiAgICAgICAgU3RhdGUgICAgICAgID0+ICRQYXJhbXtEYXRhfS0+e1N0YXRlfSwKICAgICAgICBPd25lcklEICAgICAgPT4gJFBhcmFte0RhdGF9LT57T3duZXJJRH0sCiAgICAgICAgUHJpb3JpdHkgICAgID0+ICRQYXJhbXtEYXRhfS0+e1ByaW9yaXR5fSwKICAgICk7CiAgICAjIGdldCBhZ2VudCBuYW1lCiAgICAkVGlja2V0e1VzZXJOYW1lfSA9ICRVc2VyT2JqZWN0LT5Vc2VyTmFtZSggVXNlcklEID0+ICRUaWNrZXR7T3duZXJJRH0gKTsKCiAgICAjIHN5c3RlbSBjb25maWcgdmFycwogICAgbXkgJFRpY2tldEhvb2sgID0gJENvbmZpZ09iamVjdC0+R2V0KCdUaWNrZXQ6Okhvb2snKTsKICAgICAgICRUaWNrZXRIb29rIC49ICRDb25maWdPYmplY3QtPkdldCgnVGlja2V0OjpIb29rRGl2aWRlcicpOwogICAgbXkgJFN5c3RlbUZRRE4gID0gJENvbmZpZ09iamVjdC0+R2V0KCdGUUROJyk7CiAgICBteSAkU3lzdGVtSFRUUCAgPSAkQ29uZmlnT2JqZWN0LT5HZXQoJ0h0dHBUeXBlJyk7CiAgICBteSAkU3lzdGVtQWxpYXMgPSAkQ29uZmlnT2JqZWN0LT5HZXQoJ1NjcmlwdEFsaWFzJyk7CiAgICBteSAkV2ViUGF0aCAgICAgPSAkQ29uZmlnT2JqZWN0LT5HZXQoJ0Zyb250ZW5kOjpXZWJQYXRoJyk7CgogICAgIyBydW4gZm9yIGRlZmluZWQgU2VuZGVyIFR5cGVzIG9ubHkKICAgIG15ICVTZW5kZXJUeXBlcyA9ICV7ICRDb25maWdPYmplY3QtPkdldCggJ1RlYW1zTm90aWZpY2F0aW9uOjpTZW5kZXJUeXBlJyApIH07Cglmb3IgbXkgJFNlbmRlclR5cGUgKCBzb3J0IGtleXMgJVNlbmRlclR5cGVzICkgICAKCXsKCQlpZiAoICRTZW5kZXJUeXBlIGVxICRBcnRpY2xle1NlbmRlclR5cGV9CiAgICAgICAgICAgICAmJiAkU2VuZGVyVHlwZXN7JFNlbmRlclR5cGV9ID09IDAgKSB7IAogICAgICAgICAgICAgICAgJEtlcm5lbDo6T00tPkdldCgnS2VybmVsOjpTeXN0ZW06OkxvZycpLT5Mb2coCiAgICAgICAgICAgICAgICAgICAgUHJpb3JpdHkgPT4gJ25vdGljZScsCiAgICAgICAgICAgICAgICAgICAgTWVzc2FnZSAgPT4gIkRvIG5vdCBydW4gZm9yIFNlbmRlciBUeXBlICRTZW5kZXJUeXBlLiIKICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgfSAgICAKCX0KCiAgICAjIHJ1biBmb3IgZGVmaW5lZCBUaWNrZXQgVHlwZXMgb25seQogICAgbXkgJVRpY2tldFR5cGVzID0gJXsgJENvbmZpZ09iamVjdC0+R2V0KCAnVGVhbXNOb3RpZmljYXRpb246OlRpY2tldFR5cGUnICkgfTsKCWZvciBteSAkVGlja2V0VHlwZSAoIHNvcnQga2V5cyAlVGlja2V0VHlwZXMgKSAgIAoJewoJCWlmICggJFRpY2tldFR5cGUgZXEgJFRpY2tldHtUeXBlfQogICAgICAgICAgICAgJiYgJFRpY2tldFR5cGVzeyRUaWNrZXRUeXBlfSA9PSAwICkgeyAKICAgICAgICAgICAgICAgICRLZXJuZWw6Ok9NLT5HZXQoJ0tlcm5lbDo6U3lzdGVtOjpMb2cnKS0+TG9nKAogICAgICAgICAgICAgICAgICAgIFByaW9yaXR5ID0+ICdub3RpY2UnLAogICAgICAgICAgICAgICAgICAgIE1lc3NhZ2UgID0+ICJEbyBub3QgcnVuIGZvciBUaWNrZXQgVHlwZSAkVGlja2V0VHlwZS4iCiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0gICAgCgl9CgogICAgIyBnZXQgV2ViSG9va1VSTCBmb3IgUXVldWUKICAgIG15ICRXZWJob29rVVJMOwogICAgbXkgJVdlYmhvb2tVUkxzID0gJXsgJENvbmZpZ09iamVjdC0+R2V0KCAnVGVhbXNOb3RpZmljYXRpb246OlF1ZXVlVG9XZWJob29rVVJMJyApIH07Cglmb3IgbXkgJFdlYkhvb2tRdWV1ZSAoIHNvcnQga2V5cyAlV2ViaG9va1VSTHMgKSAgIAoJewoJCWlmICggJFRpY2tldHtRdWV1ZX0gZXEgJFdlYkhvb2tRdWV1ZSApIHsKCQkgICAgJFdlYmhvb2tVUkwgPSAkV2ViaG9va1VSTHN7JFdlYkhvb2tRdWV1ZX07CgkJICAgICRLZXJuZWw6Ok9NLT5HZXQoJ0tlcm5lbDo6U3lzdGVtOjpMb2cnKS0+TG9nKAogICAgICAgICAgICAgICAgICAgIFByaW9yaXR5ID0+ICdub3RpY2UnLAogICAgICAgICAgICAgICAgICAgIE1lc3NhZ2UgID0+ICJSdW4gV2ViSG9vayBmb3IgUXVldWUgJFdlYkhvb2tRdWV1ZSIKICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICMgZXJyb3Igb24gZW1wdHkgV2ViaG9vayBVUkwKICAgICAgICAgICAgaWYgKCAhJFdlYmhvb2tVUkwgKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkS2VybmVsOjpPTS0+R2V0KCdLZXJuZWw6OlN5c3RlbTo6TG9nJyktPkxvZygKICAgICAgICAgICAgICAgICAgICBQcmlvcml0eSA9PiAnbm90aWNlJywKICAgICAgICAgICAgICAgICAgICBNZXNzYWdlICA9PiAiTm8gV2ViaG9va1VSTCBkZWZpbmVkIGZvciBRdWV1ZSAkVGlja2V0e1F1ZXVlfSIKICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgCSAgICAgICB9Cgl9CgogICAgIyBzZXQgbm90aWZpY2F0aW9uIHRoZW1lIGNvbG9yCiAgICBteSAlUHJpb3JpdGllcyA9ICV7ICRDb25maWdPYmplY3QtPkdldCggJ1RlYW1zTm90aWZpY2F0aW9uOjpOb3RpZmljYXRpb25Db2xvcicgKSB9OwogICAgbXkgJFByaW9yaXR5Q29sb3IgPSAkUHJpb3JpdGllc3tkZWZhdWx0fTsKCWZvciBteSAkUHJpb3JpdHkgKCBzb3J0IGtleXMgJVByaW9yaXRpZXMgKSAgIAoJewoJCWlmICggJFRpY2tldHtQcmlvcml0eX0gZXEgJFByaW9yaXR5ICkgewoJCSAgICAkUHJpb3JpdHlDb2xvciA9ICRQcmlvcml0aWVzeyRQcmlvcml0eX07CiAgCSAgICAgICB9Cgl9CgogICAgIyBlbmNvZGUgdXRmLTgKICAgICRBcnRpY2xle0Zyb219ID0gRW5jb2RlOjplbmNvZGUoInV0ZjgiLCAkQXJ0aWNsZXtGcm9tfSk7CiAgICAkVGlja2V0e1RpdGxlfSA9IEVuY29kZTo6ZW5jb2RlKCJ1dGY4IiwgJFRpY2tldHtUaXRsZX0pOwogICAgJFRpY2tldHtVc2VyTmFtZX0gPSBFbmNvZGU6OmVuY29kZSgidXRmOCIsICRUaWNrZXR7VXNlck5hbWV9KTsKCiAgICAjIGVzY2FwZSBkb3VibGUgcXVvdGVzIAogICAgJEFydGljbGV7RnJvbX0gPX4gcy9cIi9cXCIvZzsKICAgICRUaWNrZXR7VGl0bGV9ID1+IHMvXCIvXFwiL2c7CiAgICAkVGlja2V0e1VzZXJOYW1lfSA9fiBzL1wiL1xcIi9nOwoKICAgIG15ICR1YSA9IExXUDo6VXNlckFnZW50LT5uZXc7CiAgICBteSAkcmVxID0gSFRUUDo6UmVxdWVzdC0+bmV3KFBPU1QgPT4gJFdlYmhvb2tVUkwpOwogICAgJHJlcS0+aGVhZGVyKCdjb250ZW50LXR5cGUnID0+ICdhcHBsaWNhdGlvbi9qc29uJyk7CgogICAgIyBnZXQgYWdlbnQgbG9nbwogICAgbXkgJE5vdGlmaWNhdGlvbkltYWdlID0gJENvbmZpZ09iamVjdC0+R2V0KCdUZWFtc05vdGlmaWNhdGlvbjo6Tm90aWZpY2F0aW9uSW1hZ2UnKTsKICAgIG15ICVBZ2VudExvZ2luTG9nbyA9ICV7ICRDb25maWdPYmplY3QtPkdldCgnQWdlbnRMb2dpbkxvZ28nKSB9OwogICAgbXkgJEFjdGl2aXR5SW1hZ2U7CiAgICAKICAgIGlmICggJE5vdGlmaWNhdGlvbkltYWdlICkgewogICAgICAgICRBY3Rpdml0eUltYWdlID0gIiRTeXN0ZW1IVFRQOi8vJFN5c3RlbUZRRE4kV2ViUGF0aCROb3RpZmljYXRpb25JbWFnZSI7CiAgICB9IGVsc2UgewogICAgICAgICRBY3Rpdml0eUltYWdlID0gIiRTeXN0ZW1IVFRQOi8vJFN5c3RlbUZRRE4kV2ViUGF0aCRBZ2VudExvZ2luTG9nb3tVUkx9IjsKICAgIH0KCiAgICAjIGFkZCBQT1NUIGRhdGEgdG8gSFRUUCByZXF1ZXN0IGJvZHkKICAgIG15ICRwb3N0X2RhdGFfbGFyZ2UgPSAiewoJCVwiXEBjb250ZXh0XCI6IFwiaHR0cHM6Ly9zY2hlbWEub3JnL2V4dGVuc2lvbnNcIiwKCQlcIlxAdHlwZVwiOiBcIk1lc3NhZ2VDYXJkXCIsCgkJXCJ0aGVtZUNvbG9yXCI6IFwiJFByaW9yaXR5Q29sb3JcIiwKICAgICAgICBcInN1bW1hcnlcIjogXCJUaWNrZXQgVXBkYXRlXCIsCiAgICAgICAgXCJ0aXRsZVwiOiBcIl9fVGlja2V0IFVwZGF0ZV9fOiAkVGlja2V0e1RpdGxlfVwiLAoJCVwic2VjdGlvbnNcIjogW3sKCQkJXCJhY3Rpdml0eVRpdGxlXCI6IFwiJEFydGljbGV7RnJvbX1cIiwKCQkJXCJhY3Rpdml0eVN1YnRpdGxlXCI6IFwiJEFydGljbGV7U2VuZGVyVHlwZX1cIiwKCQkJXCJhY3Rpdml0eUltYWdlXCI6IFwiJEFjdGl2aXR5SW1hZ2VcIiwJCiAgICAgICAgICAgICAgICBcImZhY3RzXCI6IFt7IAoJCQkJCVwibmFtZVwiOiBcIlRpY2tldCBOdW1iZXJcIiwgCgkJCQkJXCJ2YWx1ZVwiOiBcIiRUaWNrZXRIb29rJFRpY2tldHtUaWNrZXROdW1iZXJ9XCIgCgkJCQl9LCB7IAoJCQkJCVwibmFtZVwiOiBcIkFzc2lnbmVlXCIsIAoJCQkJCVwidmFsdWVcIjogXCIkVGlja2V0e1VzZXJOYW1lfVwiIAoJCQkJfSwgeyAKCQkJCQlcIm5hbWVcIjogXCJRdWV1ZVwiLCAKCQkJCQlcInZhbHVlXCI6IFwiJFRpY2tldHtRdWV1ZX1cIiAKCQkJCX0sIHsgCgkJCQkJXCJuYW1lXCI6IFwiU3RhdHVzXCIsIAoJCQkJCVwidmFsdWVcIjogXCIkVGlja2V0e1N0YXRlfVwiIAoJCQkJfSwgeyAKCQkJCQlcIm5hbWVcIjogXCJQcmlvcml0eVwiLCAKCQkJCQlcInZhbHVlXCI6IFwiJFRpY2tldHtQcmlvcml0eX1cIiAKCQkJCX1dCiAgICAgICAgfV0sCiAgICAgICAgXCJtYXJrZG93blwiIDogXCJ0cnVlXCIsCiAgICAgICAgXCJwb3RlbnRpYWxBY3Rpb25cIjogW3sgICAgICAgIAoJCQkJCVwiXEB0eXBlXCI6IFwiT3BlblVyaVwiLCAKCQkJCQlcIm5hbWVcIjogXCJWaWV3IGluIEhlbHBkZXNrXCIsCiAgICAgICAgICAgICAgICAgICAgICAgIFwidGFyZ2V0c1wiOiBbeyAKCQkJCQkgICAgICAgIFwib3NcIjogXCJkZWZhdWx0XCIsIAoJCQkJCSAgICAgICAgXCJ1cmlcIjogXCIkU3lzdGVtSFRUUDovLyRTeXN0ZW1GUUROLyRTeXN0ZW1BbGlhcy9pbmRleC5wbD9BY3Rpb249QWdlbnRUaWNrZXRab29tO1RpY2tldElEPSRUaWNrZXR7VGlja2V0SUR9IyRBcnRpY2xle0FydGljbGVJRH1cIiAKCQkJCQkgICAgICAgIH0KICAgICAgICAgICAgICAgIF0KCQkJfQoJCV0KCX0iOwoKICAgIG15ICRwb3N0X2RhdGFfbWVkaXVtID0gInsKCQlcIlxAY29udGV4dFwiOiBcImh0dHBzOi8vc2NoZW1hLm9yZy9leHRlbnNpb25zXCIsCgkJXCJcQHR5cGVcIjogXCJNZXNzYWdlQ2FyZFwiLAoJCVwidGhlbWVDb2xvclwiOiBcIiRQcmlvcml0eUNvbG9yXCIsCiAgICAgICAgXCJzdW1tYXJ5XCI6IFwiVGlja2V0IFVwZGF0ZVwiLAoJCVwic2VjdGlvbnNcIjogW3sKCQkJXCJhY3Rpdml0eVRpdGxlXCI6IFwiX19UaWNrZXQgVXBkYXRlX18gWyRUaWNrZXRIb29rJFRpY2tldHtUaWNrZXROdW1iZXJ9XTogJFRpY2tldHtUaXRsZX1cIiwKCQkJXCJhY3Rpdml0eVN1YnRpdGxlXCI6IFwiJEFydGljbGV7RnJvbX0gKCRBcnRpY2xle1NlbmRlclR5cGV9KVwiLAogICAgICAgICAgICBcImFjdGl2aXR5SW1hZ2VcIjogXCIkQWN0aXZpdHlJbWFnZVwiLAogICAgICAgICAgICAgICAgXCJmYWN0c1wiOiBbeyAKCQkJCQlcIm5hbWVcIjogXCJBc3NpZ25lZVwiLCAKCQkJCQlcInZhbHVlXCI6IFwiJFRpY2tldHtVc2VyTmFtZX1cIiAKCQkJCX0sIHsgCgkJCQkJXCJuYW1lXCI6IFwiUXVldWVcIiwgCgkJCQkJXCJ2YWx1ZVwiOiBcIiRUaWNrZXR7UXVldWV9XCIgCgkJCQl9LCB7IAoJCQkJCVwibmFtZVwiOiBcIlN0YXR1c1wiLCAKCQkJCQlcInZhbHVlXCI6IFwiJFRpY2tldHtTdGF0ZX1cIiAKCQkJCX0sIHsgCgkJCQkJXCJuYW1lXCI6IFwiUHJpb3JpdHlcIiwgCgkJCQkJXCJ2YWx1ZVwiOiBcIiRUaWNrZXR7UHJpb3JpdHl9XCIgCgkJCQl9XQogICAgICAgIH1dLAogICAgICAgIFwibWFya2Rvd25cIiA6IFwidHJ1ZVwiLAogICAgICAgIFwicG90ZW50aWFsQWN0aW9uXCI6IFt7ICAgICAgICAKCQkJCQlcIlxAdHlwZVwiOiBcIk9wZW5VcmlcIiwgCgkJCQkJXCJuYW1lXCI6IFwiVmlldyBpbiBIZWxwZGVza1wiLAogICAgICAgICAgICAgICAgICAgICAgICBcInRhcmdldHNcIjogW3sgCgkJCQkJICAgICAgICBcIm9zXCI6IFwiZGVmYXVsdFwiLCAKCQkJCQkgICAgICAgIFwidXJpXCI6IFwiJFN5c3RlbUhUVFA6Ly8kU3lzdGVtRlFETi8kU3lzdGVtQWxpYXMvaW5kZXgucGw/QWN0aW9uPUFnZW50VGlja2V0Wm9vbTtUaWNrZXRJRD0kVGlja2V0e1RpY2tldElEfSMkQXJ0aWNsZXtBcnRpY2xlSUR9XCIgCgkJCQkJICAgICAgICB9CiAgICAgICAgICAgICAgICBdCgkJCX0KCQldCgl9IjsKCiAgICBteSAkcG9zdF9kYXRhX3NtYWxsID0gInsKCQlcIlxAY29udGV4dFwiOiBcImh0dHBzOi8vc2NoZW1hLm9yZy9leHRlbnNpb25zXCIsCgkJXCJcQHR5cGVcIjogXCJNZXNzYWdlQ2FyZFwiLAoJCVwidGhlbWVDb2xvclwiOiBcIiRQcmlvcml0eUNvbG9yXCIsCiAgICAgICAgXCJzdW1tYXJ5XCI6IFwiVGlja2V0IFVwZGF0ZVwiLAoJCVwic2VjdGlvbnNcIjogW3sKCQkJXCJhY3Rpdml0eVRpdGxlXCI6IFwiX19UaWNrZXQgVXBkYXRlX186ICRUaWNrZXR7VGl0bGV9XCIsCgkJCVwiYWN0aXZpdHlTdWJ0aXRsZVwiOiBcIiRBcnRpY2xle0Zyb219ICgkQXJ0aWNsZXtTZW5kZXJUeXBlfSlcIiwKICAgICAgICAgICAgXCJhY3Rpdml0eUltYWdlXCI6IFwiJEFjdGl2aXR5SW1hZ2VcIiwKICAgICAgICAgICAgXCJ0ZXh0XCI6IFwiTmV3IG1lc3NhZ2UgZm9yIFRpY2tldCBfXyRUaWNrZXRIb29rJFRpY2tldHtUaWNrZXROdW1iZXJ9X18gaW4gUXVldWUgX18kVGlja2V0e1F1ZXVlfV9fLCBTdGF0ZSBpcyBfXyRUaWNrZXR7U3RhdGV9X18gYW5kIFByaW90aXR5IGlzIF9fJFRpY2tldHtQcmlvcml0eX1fXy4gQ3VycmVudCBBc3NpZ25lZSBpcyBfXyRUaWNrZXR7VXNlck5hbWV9X18uXCIKICAgICAgICB9XSwKICAgICAgICBcIm1hcmtkb3duXCIgOiBcInRydWVcIiwKICAgICAgICBcInBvdGVudGlhbEFjdGlvblwiOiBbeyAgICAgICAgCgkJCQkJXCJcQHR5cGVcIjogXCJPcGVuVXJpXCIsIAoJCQkJCVwibmFtZVwiOiBcIlZpZXcgaW4gSGVscGRlc2tcIiwKICAgICAgICAgICAgICAgICAgICAgICAgXCJ0YXJnZXRzXCI6IFt7IAoJCQkJCSAgICAgICAgXCJvc1wiOiBcImRlZmF1bHRcIiwgCgkJCQkJICAgICAgICBcInVyaVwiOiBcIiRTeXN0ZW1IVFRQOi8vJFN5c3RlbUZRRE4vJFN5c3RlbUFsaWFzL2luZGV4LnBsP0FjdGlvbj1BZ2VudFRpY2tldFpvb207VGlja2V0SUQ9JFRpY2tldHtUaWNrZXRJRH0jJEFydGljbGV7QXJ0aWNsZUlEfVwiIAoJCQkJCSAgICAgICAgfQogICAgICAgICAgICAgICAgXQoJCQl9CgkJXQoJfSI7CgogICAgIyBQT1NUCiAgICBpZiAoICRWaWV3Tm90aWZpY2F0aW9uIGVxICdsYXJnZScgKSB7CiAgICAgICAgJHJlcS0+Y29udGVudCgkcG9zdF9kYXRhX2xhcmdlKTsKICAgICAgICB9CiAgICAgICAgZWxzaWYgKCAkVmlld05vdGlmaWNhdGlvbiBlcSAnbWVkaXVtJyApIHsKICAgICAgICAgICAgJHJlcS0+Y29udGVudCgkcG9zdF9kYXRhX21lZGl1bSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzaWYgKCAkVmlld05vdGlmaWNhdGlvbiBlcSAnc21hbGwnICkgewogICAgICAgICAgICAgICAgJHJlcS0+Y29udGVudCgkcG9zdF9kYXRhX3NtYWxsKTsKICAgICAgICAgICAgICAgIH0KCiAgICBteSAkcmVzcCA9ICR1YS0+cmVxdWVzdCgkcmVxKTsKICAgIGlmICgkcmVzcC0+aXNfc3VjY2VzcykgewogICAgICBteSAkbWVzc2FnZSA9ICRyZXNwLT5kZWNvZGVkX2NvbnRlbnQ7CiAgICAgICRMb2dPYmplY3QtPkxvZygKICAgICAgICAgIFByaW9yaXR5ID0+ICdub3RpY2UnLAogICAgICAgICAgTWVzc2FnZSAgPT4gIlJ1biBUZWFtc05vdGlmaWNhdGlvbiBldmVudCBtb2R1bGUsUmVjZWl2ZWQgcmVwbHk6ICRtZXNzYWdlIiAsCiAgICAgICk7CiAgICB9CiAgICBlbHNlIHsKICAgICAgJExvZ09iamVjdC0+TG9nKAogICAgICAgIFByaW9yaXR5ID0+ICdub3RpY2UnLAogICAgICAgIE1lc3NhZ2UgID0+ICJSSFRUUCBQT1NUIGVycm9yIGNvZGU6ICRyZXNwLT5jb2RlIiAsCiAgICAgICk7CiAgICAgICRMb2dPYmplY3QtPkxvZygKICAgICAgICBQcmlvcml0eSA9PiAnbm90aWNlJywKICAgICAgICBNZXNzYWdlICA9PiAiUkhUVFAgUE9TVCBlcnJvciBtZXNzYWdlOiAkcmVzcC0+bWVzc2FnZSIgLAogICAgICApOwogICAgfQoKICAgIHJldHVybiAxOwp9CgoxOw==</File>
    </Filelist>
</otrs_package>